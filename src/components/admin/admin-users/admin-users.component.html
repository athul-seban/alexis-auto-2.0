
<h2 class="text-xl font-bold mb-6 border-b border-white/10 pb-4">System & User Management</h2>

<!-- System Configuration -->
<div class="bg-white/5 p-6 rounded-xl mb-8 border border-white/10">
   <h3 class="text-sm font-bold text-gray-400 uppercase mb-6">System Configuration</h3>
   
   <!-- Theme Toggle -->
   <div class="flex items-center justify-between mb-6 pb-6 border-b border-white/10">
      <div>
        <p class="text-white font-bold text-sm">Interface Theme</p>
        <p class="text-xs text-gray-500">Switch between the brand Dark mode and Light mode.</p>
      </div>
      <div class="flex items-center gap-3">
         <span class="text-xs font-bold uppercase" [class.text-[#E30613]]="dataService.theme() === 'dark'" [class.text-gray-600]="dataService.theme() !== 'dark'">Dark</span>
         <button (click)="toggleTheme()" class="relative w-12 h-6 rounded-full transition-colors duration-300 focus:outline-none bg-gray-700">
             <div class="absolute top-1 left-1 w-4 h-4 rounded-full bg-white transition-transform duration-300"
               [class.translate-x-6]="dataService.theme() === 'light'"></div>
         </button>
         <span class="text-xs font-bold uppercase" [class.text-[#E30613]]="dataService.theme() === 'light'" [class.text-gray-600]="dataService.theme() !== 'light'">Light</span>
      </div>
   </div>

   <!-- Banner Configuration -->
   <div>
      <div class="flex items-center justify-between mb-4">
          <div>
            <p class="text-white font-bold text-sm">System Banner / Announcement</p>
            <p class="text-xs text-gray-500">Enable or disable the site-wide announcement bar.</p>
          </div>
          <button (click)="toggleBannerActive()" class="relative w-12 h-6 rounded-full transition-colors duration-300 focus:outline-none"
             [class.bg-[#E30613]]="dataService.banner().active"
             [class.bg-gray-700]="!dataService.banner().active">
             <div class="absolute top-1 left-1 w-4 h-4 rounded-full bg-white transition-transform duration-300"
               [class.translate-x-6]="dataService.banner().active"></div>
          </button>
      </div>
      
      <div class="space-y-2">
         <p class="text-xs text-gray-500 font-bold uppercase">Banner Message</p>
         <div class="flex gap-4">
             <input #bannerInput [value]="dataService.banner().reason" placeholder="Enter banner message (e.g. 'Closed for Bank Holiday')..." class="flex-1 bg-black border border-white/20 rounded p-2 text-sm text-white">
             <button (click)="updateBannerText(bannerInput.value)" class="bg-white/10 text-white px-4 py-2 rounded text-xs font-bold uppercase hover:bg-white hover:text-black transition-colors border border-white/20">Save Text</button>
         </div>
      </div>
   </div>
</div>

<div class="bg-white/5 p-6 rounded-xl mb-8">
   <h3 class="text-sm font-bold text-gray-400 uppercase mb-4">Change Password</h3>
   <div class="flex gap-4">
      <input #passInput type="password" placeholder="New Password" class="bg-black border border-white/20 rounded p-2 text-sm text-white flex-1">
      <button (click)="changePassword(passInput)" class="bg-[#E30613] text-white px-6 py-2 rounded text-xs font-bold uppercase">Update</button>
   </div>
   @if (passwordMsg()) { <p class="text-green-500 text-xs mt-2">{{ passwordMsg() }}</p> }
</div>

<div class="bg-white/5 p-6 rounded-xl mb-8">
   <h3 class="text-sm font-bold text-gray-400 uppercase mb-4">Add New Admin User</h3>
   <form [formGroup]="userForm" (ngSubmit)="addUser()" class="space-y-4">
      <div><input formControlName="username" placeholder="Username" class="w-full bg-black border border-white/20 rounded p-2 text-sm text-white"></div>
      <div><input formControlName="password" type="password" placeholder="Password" class="w-full bg-black border border-white/20 rounded p-2 text-sm text-white"></div>
      <button type="submit" [disabled]="userForm.invalid" class="bg-white text-black hover:bg-gray-200 px-6 py-2 rounded text-xs font-bold uppercase disabled:opacity-50">Create User</button>
   </form>
</div>
